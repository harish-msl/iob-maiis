# ============================================
# IOB MAIIS - Environment Configuration
# Multimodal AI-Enabled Information System
# Created: 2025-01-17
# ============================================

# ============================================
# APPLICATION SETTINGS
# ============================================
APP_NAME=IOB MAIIS
ENVIRONMENT=development
DEBUG=true
NODE_ENV=development
LOG_LEVEL=INFO

# ============================================
# SECURITY & AUTHENTICATION
# ============================================
# IMPORTANT: Change these in production!
SECRET_KEY=your-super-secret-key-min-32-chars-change-in-production-2025
JWT_SECRET_KEY=your-jwt-secret-key-min-32-chars-change-in-production-2025
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# Password Policy
MIN_PASSWORD_LENGTH=8
REQUIRE_UPPERCASE=true
REQUIRE_LOWERCASE=true
REQUIRE_NUMBERS=true
REQUIRE_SPECIAL_CHARS=true

# ============================================
# DATABASE - PostgreSQL 16
# ============================================
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres_secure_password_2025
POSTGRES_DB=iob_maiis_db
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
DATABASE_URL=postgresql+asyncpg://postgres:postgres_secure_password_2025@postgres:5432/iob_maiis_db

# Connection Pool Settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# ============================================
# REDIS - Cache & Session Store (v7.2)
# ============================================
REDIS_PASSWORD=redis_secure_password_2025
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_URL=redis://:redis_secure_password_2025@redis:6379/0

# Redis Settings
REDIS_MAX_CONNECTIONS=50
REDIS_SOCKET_TIMEOUT=5
REDIS_SOCKET_CONNECT_TIMEOUT=5

# ============================================
# QDRANT - Vector Database
# ============================================
QDRANT_URL=http://qdrant:6333
QDRANT_GRPC_PORT=6334
QDRANT_COLLECTION_NAME=iob_maiis_documents
QDRANT_API_KEY=
EMBEDDING_DIM=768
VECTOR_SEARCH_LIMIT=10
SIMILARITY_THRESHOLD=0.7

# ============================================
# OLLAMA - Local LLM Service
# ============================================
OLLAMA_URL=http://ollama:11434
OLLAMA_HOST=0.0.0.0:11434
LLM_MODEL=llama3.1:8b
EMBEDDING_MODEL=nomic-embed-text
VISION_MODEL=llava:13b
OLLAMA_TIMEOUT=120
OLLAMA_MAX_RETRIES=3

# LLM Generation Settings
LLM_TEMPERATURE=0.7
LLM_TOP_P=0.9
LLM_MAX_TOKENS=2048
LLM_CONTEXT_WINDOW=4096

# ============================================
# EXTERNAL API KEYS (Optional)
# ============================================
# OpenAI (for advanced features)
OPENAI_API_KEY=
OPENAI_ORG_ID=
OPENAI_MODEL=gpt-4-turbo-preview

# Anthropic Claude
ANTHROPIC_API_KEY=
ANTHROPIC_MODEL=claude-3-sonnet-20240229

# Google Cloud (for OCR, Speech)
GOOGLE_CLOUD_API_KEY=
GOOGLE_APPLICATION_CREDENTIALS=

# Azure (for enterprise features)
AZURE_OPENAI_API_KEY=
AZURE_OPENAI_ENDPOINT=

# ============================================
# CORS & SECURITY
# ============================================
ALLOWED_ORIGINS=http://localhost:3000,http://localhost,http://127.0.0.1:3000
CORS_ORIGINS=http://localhost:3000,http://localhost,http://127.0.0.1:3000
CORS_ALLOW_CREDENTIALS=true
CORS_MAX_AGE=3600

# Security Headers
ENABLE_HTTPS_REDIRECT=false
SECURE_COOKIES=false
HSTS_MAX_AGE=31536000

# ============================================
# RATE LIMITING
# ============================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000
RATE_LIMIT_PER_DAY=10000

# API Specific Limits
AUTH_RATE_LIMIT=5
CHAT_RATE_LIMIT=30
UPLOAD_RATE_LIMIT=10

# ============================================
# FILE UPLOAD SETTINGS
# ============================================
MAX_UPLOAD_SIZE=10485760
MAX_FILE_SIZE_MB=10
ALLOWED_FILE_TYPES=application/pdf,image/jpeg,image/png,image/jpg,text/plain,application/vnd.openxmlformats-officedocument.wordprocessingml.document
UPLOAD_DIRECTORY=/data/documents
TEMP_DIRECTORY=/tmp/uploads

# ============================================
# BANKING SETTINGS
# ============================================
MAX_TRANSACTION_AMOUNT=100000.00
MIN_ACCOUNT_BALANCE=0.00
DAILY_TRANSACTION_LIMIT=500000.00
TRANSACTION_FEE_PERCENTAGE=0.01
ENABLE_FRAUD_DETECTION=true

# Currency Settings
DEFAULT_CURRENCY=USD
SUPPORTED_CURRENCIES=USD,EUR,GBP,INR,JPY

# ============================================
# MONITORING & OBSERVABILITY
# ============================================
# Prometheus
PROMETHEUS_PORT=9090
PROMETHEUS_RETENTION_DAYS=30

# Grafana
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin_secure_password_2025
GRAFANA_PORT=3001

# ============================================
# FRONTEND SETTINGS (Next.js 15)
# ============================================
NEXT_PUBLIC_API_URL=http://localhost:8000
NEXT_PUBLIC_WS_URL=ws://localhost:8000
NEXT_PUBLIC_APP_NAME=IOB MAIIS
NEXT_PUBLIC_APP_VERSION=1.0.0
NEXT_PUBLIC_ENVIRONMENT=development
NEXT_PUBLIC_ENABLE_ANALYTICS=false

# Feature Flags
NEXT_PUBLIC_ENABLE_VOICE=true
NEXT_PUBLIC_ENABLE_OCR=true
NEXT_PUBLIC_ENABLE_MULTIMODAL=true
NEXT_PUBLIC_ENABLE_DARK_MODE=true

# ============================================
# AI MODEL SETTINGS
# ============================================
# Document Processing
CHUNK_SIZE=1000
CHUNK_OVERLAP=200
MAX_CHUNKS_PER_DOCUMENT=100

# Embedding Settings
EMBEDDING_BATCH_SIZE=32
EMBEDDING_CACHE_ENABLED=true
EMBEDDING_CACHE_TTL=3600

# RAG Settings
RAG_TOP_K=5
RAG_SCORE_THRESHOLD=0.7
RAG_MAX_CONTEXT_LENGTH=4000
RAG_ENABLE_RERANKING=true

# OCR Settings
OCR_ENGINE=tesseract
OCR_LANGUAGE=eng
OCR_DPI=300
OCR_TIMEOUT=30

# Speech Recognition
SPEECH_MODEL=whisper-1
SPEECH_LANGUAGE=en
SPEECH_SAMPLE_RATE=16000
SPEECH_MAX_DURATION=300

# ============================================
# PGADMIN (Database Management Tool)
# ============================================
PGADMIN_EMAIL=admin@iobmaiis.local
PGADMIN_PASSWORD=pgadmin_secure_password_2025
PGADMIN_PORT=5050

# ============================================
# NGINX SETTINGS
# ============================================
NGINX_PORT=80
NGINX_SSL_PORT=443
NGINX_CLIENT_MAX_BODY_SIZE=10M
NGINX_WORKER_PROCESSES=auto
NGINX_WORKER_CONNECTIONS=1024

# ============================================
# BACKUP & RECOVERY
# ============================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_DIRECTORY=/data/backups
BACKUP_ENCRYPTION_KEY=

# ============================================
# EMAIL SETTINGS (Optional)
# ============================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=noreply@iobmaiis.local
SMTP_FROM_NAME=IOB MAIIS
SMTP_USE_TLS=true

# ============================================
# LOGGING & DEBUGGING
# ============================================
LOG_FORMAT=json
LOG_ROTATION=daily
LOG_RETENTION_DAYS=30
LOG_FILE_PATH=/app/logs/application.log
ENABLE_SQL_LOGGING=false
ENABLE_REQUEST_LOGGING=true

# Sentry (Error Tracking)
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1

# ============================================
# TESTING
# ============================================
TEST_DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/iob_maiis_test_db
PYTEST_WORKERS=4
COVERAGE_MIN_PERCENTAGE=80

# ============================================
# PERFORMANCE TUNING
# ============================================
# Worker Settings
UVICORN_WORKERS=4
UVICORN_TIMEOUT=60
UVICORN_KEEPALIVE=5

# Cache Settings
CACHE_DEFAULT_TIMEOUT=300
CACHE_KEY_PREFIX=iob_maiis
ENABLE_QUERY_CACHE=true
QUERY_CACHE_TTL=600

# ============================================
# FEATURE FLAGS
# ============================================
ENABLE_REGISTRATION=true
ENABLE_PASSWORD_RESET=true
ENABLE_EMAIL_VERIFICATION=false
ENABLE_2FA=false
ENABLE_API_VERSIONING=true
ENABLE_WEBSOCKETS=true
ENABLE_BACKGROUND_TASKS=true

# ============================================
# DEPLOYMENT
# ============================================
DEPLOYMENT_TYPE=docker
AUTO_RELOAD=true
GRACEFUL_SHUTDOWN_TIMEOUT=30
HEALTH_CHECK_INTERVAL=30

# ============================================
# NOTES
# ============================================
# 1. Copy this file to .env and update values
# 2. Never commit .env file to version control
# 3. Use strong passwords in production
# 4. Enable HTTPS in production
# 5. Review and update all secrets regularly
# 6. Set ENVIRONMENT=production for production deployments
# 7. Enable monitoring and logging in production
# 8. Configure proper backup strategy
# 9. Review rate limits based on your needs
# 10. Test all configurations before deployment
